/**
* @package 		EasySocial
* @copyright	Copyright (C) 2010 - 2013 Stack Ideas Sdn Bhd. All rights reserved.
* @license 		Proprietary Use License http://stackideas.com/licensing.html
* @author 		Stack Ideas Sdn Bhd
**/
/*------------------------------------*\
	group-entry.less
\*------------------------------------*/

// Tasks app
.app-tasks
{
	// Hide all label blocks
	.milestone-labels
	{
		display: none !important;
	}

	.milestone-item-view
	{
		font-size: 12px;

		h3
		{
			margin-top: 0;
		}

		&.is-due
		{
			.label-due
			{
				display: inline-block !important;
			}
		}
		&.is-completed
		{
			.label-completed
			{
				display: inline-block !important;
			}

			.mark-uncomplete
			{
				display: block;
			}

			.mark-completed
			{
				display: none;
			}
		}

		.mark-completed
		{
			display: block;
		}

		.mark-uncomplete
		{
			display: none;
		}

		.milestone-content
		{
			border-right: 1px dotted @esBorder;

			>hr
			{
				margin-top: 5px;
			}
		}
		.milestone-desc
		{
			margin-top: 10px;
		}

		.nav-tabs
		{
			margin-top: 30px;
			a
			{
				font-size: 12px;
			}
		}
		.milestone-tasks
		{
			margin-top: 20px;
			hr
			{
				margin-top: 5px;
				margin-bottom: 10px;
			}

			.tasks-list
			{
				&.completed-list
				{
					>li
					{
						label
						{
							text-decoration: line-through;
						}
					}
				}
				>li
				{
					padding: 2px 0;

					&.task-form
					{
						margin-top: 10px;

						.form-meta
						{
							margin-top: 10px;
							>div
							{
								+div
								{
									padding-left: 0;
								}
							}
						}
					}

					.task-meta
					{
						margin-left: 41px;
					}
					.owner-avatar
					{
						max-width: 16px;
						width: 16px;
						height: 16px;
						margin-right: 5px;
					}

					.task-created
					{
						font-size: 10px;
						color: #666;
					}
					label
					{
						font-size: 12px;
						font-weight: normal;
					}

					+ li
					{
						border-top: 1px dotted @esBorder;
						padding-top: 5px;
					}

					.task-meta
					{
						color: #666;

						>ul
						{
							li
							{
								display: inline-block;
								padding-right: 5px;

								+li
								{
									border-left: 1px dotted @esBorder;
									padding-left: 10px;
								}
							}
						}

					}
				}
			}
		}

		.milestone-chart
		{
			.legend-title
			{
				margin: 20px 0 10px 0;
				font-size: 12px;

				font-weight: 700;
			}

			.legend-items
			{
				>div
				{
					>span
					{
						width: 30px;
						height: 15px;
						display: inline-block;
						margin-right: 5px;
					}

					+div
					{
						margin-top: 5px;
					}
				}
			}

			.legend-incomplete
			{
				>span
				{
					background: #BE1F23;
				}
			}
			.legend-completed
			{
				>span
				{
					background: #2b94c5;
				}
			}
		}

		.milestone-meta
		{
			> ul
			{
				li
				{
					color: #666;
					font-size: 12px;
					padding: 0 0 5px 0;

					+ li
					{
						padding: 5px 0;
						border-top: 1px dotted @esBorder;
						margin-top: 2px;
					}
				}
			}
		}
	}

	.milestone-browser
	{

		.empty
		{
			padding: 40px 60px;
			text-align: center;
			background: #f4f4f4;
			color: #666;
			border: 1px solid @esBorder;
			font-weight: 700;
			>i
			{
				color: #666;
				margin-bottom: 20px;
				display: block;
				font-size: 48px;
			}
			>span
			{
				display: block;
				margin-bottom: 20px;
			}
		}

		.milestone-list
		{
			.milestone-item
			{
				&.is-due
				{
					.label-due
					{
						display: inline-block !important;
					}
				}
				&.is-completed
				{
					.label-completed
					{
						display: inline-block !important;
					}
				}

				.milestone-title
				{
					h4
					{
						font-size: 18px;
						font-weight: 700;
						height: 20px;
						line-height: 20px;

						>.label
						{
							font-size: 12px;
							height: 20px;
							line-height: 20px;
							display: inline-block;
							padding: 0 4px;
							text-transform: uppercase;
						}
					}
				}
				.milestone-desc
				{
					font-size: 12px;
				}
				.milestone-meta
				{
					border-top: 1px dotted @esBorder;
					border-bottom: 1px dotted @esBorder;
					padding: 5px;
					>ul
					{
						font-size: 12px;
						color: #666;

						li
						{
							margin-right: 5px;
							display: inline-block;

							+li
							{
								border-left: 1px dotted @esBorder;
								padding-left: 5px;
							}
						}
					}
				}

				+ .milestone-item
				{
					margin-top: 35px;
				}
			}
		}
	}

}

// Discussions app
.app-discussions
{
	// Discussion states
	.is-locked
	{
		span.label-locked
		{
			display: inline-block !important;
		}
	}
	.is-resolved
	{
		span.label-resolved
		{
			display: inline-block !important;
		}
	}
	.is-unanswered
	{
		span.label-unanswered
		{
			display: inline-block !important;
		}
	}

	.label-locked,
	.label-resolved,
	.label-unanswered,
	.label-answer-item
	{
		display: none;
	}

	// Discussions listing
	.discussion-items
	{
		margin-top: 15px;

		>li
		{
			padding: 8px;

			&:nth-child( even )
			{
				background: @esDiscussionItemsEvenBackground;
			}

			&.is-locked
			{
				background: @esDiscussionItemsLockedBackground;
			}

			&.is-resolved
			{
				background: @esDiscussionItemsResolvedBackground;
			}
		}
	}




	.media
	{
		.media-object
		{
			float: left;
			margin-right: 10px;

			img
			{
				padding: 1px;
				border: 1px solid @esBorder;
				border-radius: 6px;
				width: 48px;
				height: 48px;
			}
		}

		.media-body
		{
			font-size: 12px;

			h3
			{
				a
				{
					font-size: 18px;
				}

				line-height: 18px;
				padding: 0;
				margin: 0 0 5px 0;

				.label
				{
					font-size: 12px;
					display: none;
				}
			}
		}

		.media-stats
		{
			float: right;

			ul
			{
				li
				{
					background: #fff;
					font-size: 12px;
					text-align: center;
					padding: 4px 1px;
					width: 65px;
					max-width: 65px;
					overflow: hidden;
					display: inline-block;
					border: 1px solid @esBorder;
					border-radius: 3px;
					color: #666;

					span
					{
						font-size: 14px;
						display: block;
						margin-bottom: 3px;
						font-weight: 700;
					}

					+li
					{
						margin-left: 15px;
					}
				}
			}
		}
	}

	// Create discussion
	.group-discussion-create
	{
		margin-top: 5px;

		input.discussion-title{
			font-size: 18px;
			height: 50px;
			line-height: 50px;
			padding: 10px;
			width: 100%;
		}

		label.checkbox{
			font-size: 12px;
			margin-bottom: 15px;
		}
	}

	// Discussion item view
	.group-discussion-item
	{
		.discussion-header
		{
			h3.discussion-title
			{
				margin-top: 0;
				font-size: 20px;

				.discussion-status
				{
					margin-top: 4px;
					font-size: 14px;
				}
			}

			.discussion-avatar
			{
				float: left;
				margin-right: 10px;

				img
				{
					padding: 1px;
					border: 1px solid @esBorder;
					border-radius:  6px;
					width: 48px;
					height: 48px;
				}
			}

			.clearfix();
		}

		.discussion-content,
		.reply-content
		{
			font-size: 12px;
		}

		.discussion-content
		{
			margin-top: 10px;
		}

		.discussion-embed-item {

			// &:hover {
			// 	.discussion-embed-caption {
			// 		text-decoration: underline;
			// 	}
			// }

			// position: relative;
			// border: 1px dashed @esBorder;
			// padding: 3px;
			// display: inline-block;
			// border-radius: 3px;
			// width: 280px;
			// max-width: 280px;

			// .discussion-embed-caption
			// {
			// 	opacity: 0.6;
			// 	text-align:center;
			// 	background: #000;
			// 	height: 32px;
			// 	line-height: 32px;
			// 	color: #fff;
			// 	border-top: 1px dashed #fff;
			// 	display: block;
			// 	position: absolute;
			// 	bottom: 3px;
			// 	font-weight: 700;
			// 	left: 3px;
			// 	width: 280px;
			// }
		}

		// .discussion-embed-file
		// {
		// 	line-height: 160px;
		// 	height: 160px;
		// 	text-align: center;
		// 	background: #f4f4f4;
		// 	i
		// 	{
		// 		color: #666;
		// 		font-size: 96px;
		// 	}

		// 	.discussion-embed-caption
		// 	{
		// 		left: 0;
		// 	}
		// }

		// .discussion-embed-image
		// {
		// 	img
		// 	{
		// 		border: 1px dashed @esBorder;
		// 		border-radius: 3px;
		// 		max-width: 280px;
		// 	}
		// }

		.discussion-replies
		{
			>hr
			{
				margin: 5px 0 10px 0;
			}

			&.is-empty
			{
				.empty
				{
					display: block;
				}

				.replies
				{
					display: none;
				}
			}
			.empty
			{
				display: none;
				font-size: 18px;
				font-weight: 700;
				margin-top: 10px;
				padding: 40px 80px;
				border: 1px dashed @esBorder;
				background: #fff;
				color: #666;
				text-align: center;
			}

			.replies
			{
				margin-bottom: 15px;

				>li
				{
					&.is-answer-item
					{
						background: #e3f3d2;
						.label-answer-item
						{
							display: inline-block;
						}
					}

					&.is-editing
					{
						.reply-content-edit
						{
							display: block;
						}

						.reply-content
						{
							display: none;
						}
					}
					.reply-content-edit
					{
						display: none;
					}

					.reply-author
					{
						font-size: 14px;
						margin-bottom: 4px;
					}

					.reply-footer
					{
						color: #666;
						font-size: 12px;
						height: 18px;
						line-height: 18px;

						>i
						{
							font-size: 10px;
							&:before
							{
								vertical-align: bottom;
							}

							margin-right: 2px;
						}
					}

					padding: 10px 8px;

					+ li
					{
						border-top: 1px dotted #ccc;
					}
					// &:nth-child( even )
					// {
					// 	background: #f4f4f4;
					// }
				}
			}

			.discussion-response-form
			{
				h4
				{
					margin-top: 30px;
				}

				.reply-form
				{
					margin-top: 15px;

					&.is-empty
					{
						.alert-empty
						{
							display: block;
						}
					}

					.alert-empty
					{
						display: none;
					}
				}
			}
		}

		// Locked form
		&.is-locked
		{
			.locked-form,
			.discussion-unlock-action
			{
				display: block;
			}
			.discussion-lock-action,
			.reply-form,
			.btn-post-reply
			{
				display: none;
			}
		}

		// Shown when discussion is locked
		.discussion-unlock-action
		{
			display: none;
		}
		.locked-form
		{
			>i
			{
				margin-right: 5px;
				color: #666;
			}

			display: none;
			background: none repeat scroll 0 0 #F6F9FC;
			border: 1px dashed @esBorder;
			color: #666666;
			font-size: 12px;
			margin-bottom: 10px;
			padding: 20px;
		}

		.discussion-meta
		{
			.btn-create
			{
				display: block;
				width: 100%;
				border-radius: 3px;
				font-size: 12px;
				line-height: 1.5;
				padding: 6px 5px;
			}

			> div
			{
				> h4
				{
					font-size: 14px;
					font-weight: 700;
				}

				+ div
				{
					margin-top: 25px;
				}

				> hr
				{
					margin: 5px 0 5px 0;
				}
			}
			.stats
			{
				> ul
				{
					li
					{
						color: #666;
						font-size: 12px;
						padding: 0 0 5px 0;

						+ li
						{
							padding: 5px 0;
							border-top: 1px dotted @esBorder;
							margin-top: 2px;
						}
					}
				}
			}
		}
	}

	.discussion-files
	{
		margin-top: 10px;

		h5
		{
			border-bottom: 1px dotted @esBorder;
			padding-bottom: 10px;
			margin-bottom: 10px;
		}

		li
		{
			+ li
			{
				margin-top: 10px;
			}
		}
		.attachment-preview
		{
			img
			{
				border: 1px solid #F5F5F5;
				border-radius: 2px;
				max-width: 120px;
				padding: 5px;
			}
		}
	}

}

// News app
.app-news
{
	font-size: 12px;

	.create-news
	{
		margin-top: 5px;
	}

	&.news-form
	{

		input.news-title{
			font-size: 18px;
			height: 50px;
			line-height: 50px;
			padding: 10px;
			width: 100%;
		}

		label.checkbox{
			font-size: 12px;
			margin-bottom: 15px;
		}
	}

	&.is-empty
	{
		.group-news-contents
		{
			.group-news-items
			{
				display: none;
			}

			.empty
			{
				display: block;
			}
		}
	}

	.group-news-contents
	{
		.empty
		{
			display: none;

			font-size: 18px;
			font-weight: 700;
			margin-top: 40px;
			padding: 60px 120px;
			border: 1px dotted #ccc;
			background: #f4f4f4;
			color: #666;
			text-align: center;
		}

		&.is-loading
		{
			background: url("@{media_uri}/images/loading.gif") center center no-repeat;
		}
	}

	// Viewing single article
	.group-news-item
	{
		.group-news-meta
		{
			margin-bottom: 15px;

			ul {
				li {
					display: inline-block;

					+li {
						border-left: 1px dotted #ccc;
						margin-left: 10px;
						padding-left: 10px;
					}
				}
			}
		}
	}

	.group-news-items
	{
		margin-top: 10px;

		> li + li
		{
			margin-top: 20px;
			padding-top: 15px;
			border-top: 1px dotted @esBorder;
		}

		.media
		{
			.media-object
			{
				margin-top: 10px;
				border: 1px solid @esBorder;
				border-radius: 4px;

				img
				{
					padding: 1px;
					width: 48px;
					height: 48px;
				}
			}

			.media-body
			{
				h3
				{
					padding-top: 0;
					margin-top: 10px;
					margin-bottom: 5px;
				}
			}
		}
		.group-news-meta {
			margin-bottom: 15px;

			ul {
				li {
					display: inline-block;

					+li {
						border-left: 1px dotted #ccc;
						margin-left: 10px;
						padding-left: 10px;
					}
				}
			}
		}
	}
}

// Members app
// .app-contents-list {
// 	width: 100%;
// 	tr {
// 		height: 100%;
// 	}
// 	td {
// 		width: 50%;
// 		height: 100%;
// 		vertical-align: top;
// 		padding: 0 10px 10px 0;
// 	}
// 	td > div {
// 		width: 100%;
// 		height: 100%;
// 	}
// }
.app-members
{
	font-size: 12px;

	.member-item
	{
		width: 100%;
		// height: 100%;
		display: inline-block;
		padding: 10px;
		margin: 10px 10px 0 0;

		border: 1px solid @esBorder;
		border-radius: 4px;
		//height: 130px; // have to fixed height prevent http://screencast.com/t/f0sgtzk5sC

		&.is-pending-invitation{
			span.label-pending-invitation{
				display:inline;
			}
		}

		&.is-pending{
			span.label-pending{
				display:inline;
			}
		}
		&.is-owner{
			span.label-owner{
				display: inline;
			}
		}
		&.is-admin{
			span.label-admin{
				display: inline;
			}
		}
		&.is-member{
			span.label-member{
				display: inline;
			}
		}

		h5 {
			margin: 0 0 5px 50px;

			span.label{
				display: none;
			}
		}

		.desc{
			margin: 5px 0 0 50px;
			color: #666;
			font-size: 10px;
		}
	}
}


// Files widget
.es-groups-item
{
	.recent-files
	{
		ul
		{
			margin: 0 10px 0 0;

			li
			{
				margin-bottom: 10px;
				+li
				{
					border-top: 1px dotted @esBorder;
					padding-top: 10px;
				}
			}
			a
			{
				font-size: 12px;

				> i
				{
					vertical-align: top;
				}
			}

			.author-info
			{
				>div
				{
					font-size: 12px;
					color: #666;
				}

				i
				{
					color: #666;
				}
			}
		}
	}
}


&.w480 {
	.create-task {
		.datepicker-wrap {
			margin-top: 15px;
		}
	}
	.app-discussions
	{
		.discussion-item,
		.discussion-replies {
			.media-body {
				clear: both;
			}
		}
		.es-filterbar {
			.btn {
				width: 100%;
				margin: 15px 0;
			}
		}
	}
	.es-stream-content {
		.media-stats {
			float: none !important;
			margin-bottom: 10px !important;
		}
	}
}
&.w320 {
	.milestone-tasks {
		.datepicker-wrap {
			margin-top: 15px;
		}
		.form-meta > div + div {
			padding-left: 15px !important;
		}
	}
}
